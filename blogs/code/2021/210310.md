---
title: React与Vue的比较与个人思考
date: 2021-03-09 17:27
tags:
 - vue
 - react
categories: 
 - 前端
---

:::tip
React 与 Vue 都是很优秀的框架，优秀的框架之间大部分都是相似的
:::

<!--more-->

#### 相同点

+ 虚拟DOM 实现快速渲染
+ 轻量级
+ 响应式组件
+ 服务端渲染 （vue的Nuxt， 与React的 ）
+ 集成路由工具、打包工具、状态管理工具的难度低
+ 优秀的社区与支持


### 不同点

##### 数据绑定

+ state

    Vue的state是可变的， React的state是不可变的。vue能直接通过this.a = 1 的方式改变数据。而React只能通过setState方法改变数据。

+ 实现原理

    Vue： 当像一个state添加一个新对象的时候，vue遍历其中所有的属性并转换为getter/setter 方法，来监听数据的变化，改变state的状态操作更加简洁，切不用特别的优化就能达到很好的性能。
    > 缺点： 不能监测属性的添加与删除，及某些数组的更改。 

    React 默认是通过比较引用的方式进行， 如果不优化（PureComponent/shouldComponentUpdate）可能导致大量不必要的render渲染
    
(.....待更)

##### 组件化的区别

vue——支持组件化，不过是在MVVM上的扩展
React——本身就是组件化

#### 框架的选择

##### 选择Vue

+ 喜欢用模板搭建应用 
> vue之前项目大多使用模板引擎，比如常用的`art-template`、`jade`， 所以Vue的上手项目较 js 编写的 React 较为容易。现在jade大多用在后端，比如 nodejs 的 express
+ 喜欢简单的东西，能用就行
> Vue 本身的数据监测不需要额外的优化，就能带来优秀的性能。使用起来简单， React的JSX与class之类的需要很多ES6方面的知识
+ 希望应用尽可能的小和快


##### 选择React

+ 构建一个大型应用程序
> vue基于木板的应用程序看起来很好理解，跑起来也很快，但是不易于监测与测试。随着项目规模的增加，其中的技术债会越来越多，导致难以维护。模板容易出现很难注意到的运行错误，也很难测试、重构、分解。
> react 基于js的模板有很好的分解性和DRY（Don't Rpeat Youself）复用代码。React的渲染系统的可配置性更强，还有浅渲染的特性，和React的测试工具结合起来使用，使代码的可测试性和可维护性更好。  
> 且React的state的不可变性带来了透明度与可预测性。这对大型项目很有意义

+ 同时适用于Web与原生app的框架

> React Native 是一个使用js构建移动端的原生应用程序的库。他与React相同，只是不适用Web组件，而是使用原生组件。

> 不过现在React Native 最近不如flutter火

+ 享受函数式组件的快感

> 随着hooks的发布，函数式组件已经势不可挡。更加简洁相比于class来说，hooks使用更少的代码，且不用担心this的指针与函数的绑定问题

##### 总结

vue 优势： 
+ 与渲染函数的弹性选择
+ 间接的语法与项目配置
+ 更快的渲染速度与更小的体积

react 优势： 
+ 更适合大型应用和更好的可测试性
+ web段和移动端原生app通吃（不过现在vue也有weex）
+ 函数式组件 + hooks的威力谁用谁知道


js多线程
